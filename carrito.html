<!DOCTYPE html>
<html lang="en">
<head>
<title>JavaScript - read JSON from URL</title>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</head>

<style>
.encontrado{
  color:green;
}

.no-encontrado{
  color:crimson;
}
</style>

<body>
    <input type="text" class="form-control" id="exampleInputPassword1" onkeyup="ajax_get_json(this.value)"/>

    <div name="info" id="info"></div>


<!--form>
  <div class="mb-3">
    <label for="exampleInputPassword1"  class="form-label">Password</label>
    <input type="password" class="form-control" id="exampleInputPassword1" onkeyup="ajax_get_json(this.value)">
  </div>

  <button type="submit" class="btn btn-primary">Submit</button>
</form-->

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<script>
function ajax_get_json(confirmarPasswordCurso){
  var resultado = document.getElementById("info");
  var xmlhttp;

  if(window.XMLHttpRequest){
    xmlhttp=new XMLHttpRequest();
  }else{
    xmlhttp=ActiveXObject("Microsoft.XMLHTTP");
  }

  if(confirmarPasswordCurso.length===0){
    resultado.innerHTML = "";
  }else{
    xmlhttp.onreadystatechange = function(){

      if(xmlhttp.readyState === 4 && xmlhttp.status ===200){
        var datos = JSON.parse(xmlhttp.responseText);

        var x = encontrarPersona(datos,confirmarPasswordCurso);

        var mensaje = (x === true) ? "<span class='encontrado'>Si fue encontrado</span>" :
        "<span class='no-encontrado'>No encontrado</span>"; 

        resultado.innerHTML = mensaje;
      }
    }

    xmlhttp.open("GET","index.json",true);
    xmlhttp.send();
  }
}


function encontrarPersona(objectJSON,nombreIngresado){

  var arr = [];

  for(var i in objectJSON){
    arr.push(objectJSON[i].login);
  }
  return arr.indexOf(nombreIngresado) > -1;
}
</script>




    <!--script>
Swal.fire({
  title: 'Submit your Github username',
  input: 'text',
  inputAttributes: {
    autocapitalize: 'off'
  },
  showCancelButton: true,
  confirmButtonText: 'Look up',
  showLoaderOnConfirm: true,
  preConfirm: (login) => {
    ////api.github.com/users
    return fetch(`//copia.json/carrito`)
      .then(response => {
        if (!response.ok) {
          throw new Error(response.statusText)
        }
        return response.json()
      })
      .catch(error => {
        Swal.showValidationMessage(
          `Request failed: ${error}`
        )
      })
  },
  allowOutsideClick: () => !Swal.isLoading()
}).then((result) => {
  if (result.isConfirmed) {
    Swal.fire({
      title: `${result.value.login}'s avatar`,
      imageUrl: result.value.avatar_url
    })
  }
})
    </script-->

</body>
</html